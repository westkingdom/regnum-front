# Use an official Python runtime as a parent image
FROM python:3.11-slim

# Set the working directory in the container
WORKDIR /app

# Install Streamlit
RUN pip install --no-cache-dir streamlit

# Copy the redirect script into the container
COPY redirect.py .

# Make port 8080 available to the world outside this container
# Cloud Run expects containers to listen on port 8080 by default
EXPOSE 8080

# Define environment variables
ENV PORT=8080
ENV PYTHONUNBUFFERED=1

# Run the redirect application when the container launches
CMD ["streamlit", "run", "redirect.py", "--server.port", "8080", "--server.address", "0.0.0.0"] 